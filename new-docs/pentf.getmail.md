<!-- Do not edit this file. It is automatically generated by API Documenter. -->

[Home](./index.md) &gt; [pentf](./pentf.md) &gt; [getMail](./pentf.getmail.md)

## getMail() function

Retrieve and delete an email.

<b>Signature:</b>

```typescript
export declare function getMail(config: TaskConfig, since: Date, to: string, subjectContains: string, wait_times?: number[]): Promise<ParsedBody | undefined>;
```

## Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  config | [TaskConfig](./pentf.taskconfig.md) | The pentf configuration object. |
|  since | Date | Earliest time the email can be sent. (To avoid finding the email of a prior test.) |
|  to | string | receiveer email address (<code>config.email</code> if you have just one email address, often the result of <code>makeRandomEmail</code>) |
|  subjectContains | string | Search string for the subject. |
|  wait\_times | number\[\] | How long to wait between checking email. By default, we wait about 3 minutes total. |

<b>Returns:</b>

Promise&lt;[ParsedBody](./pentf.parsedbody.md) \| undefined&gt;

{<!-- -->Object<!-- -->} Email object with `html` and `text` properties.

## Example


```javascript
const email = makeRandomEmail(config, 'myTestCase');
const start = new Date();
await ... // register with email
const welcomeMail = await getMail(config, start, email, 'Welcome');
assert.strictEqual(welcomeMail.text.includes('Hello'));
assert.strictEqual(welcomeMail.html.includes('<p>Hello'));

```

