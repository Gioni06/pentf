<!-- Do not edit this file. It is automatically generated by API Documenter. -->

[Home](./index.md) &gt; [pentf](./pentf.md) &gt; [fetch\_2](./pentf.fetch_2.md)

## fetch\_2() function

fetch a URL. Apart from the first parameter, this implements the \[Fetch API\](https://developer.mozilla.org/en-US/docs/Web/API/Fetch\_API). (Using this method rather than another enables outputting of curl commands with `-c` and a couple of defaults suitable for pentf).

<b>Signature:</b>

```typescript
export declare function fetch<T = any>(config: Config, url: string, init: any): Promise<PentfResponse>;
```

## Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  config | Config | The pentf configuration object. |
|  url | string | URL to fetch. |
|  init | any | fetch options, see \[<code>RequestInit</code> in the Fetch Spec\](https://fetch.spec.whatwg.org/\#requestinit). On top of the standard Fetch parameters, we support the following nonstandard parameters: - <code>agent</code>: node \[HTTP/HTTPS agent\](https://nodejs.org/api/https.html\#https\_class\_https\_agent) - <code>curl_include_headers</code>: boolean (default false) of whether to include <code>-k</code> in the curl output. - <code>curl_extra_options</code>: List of extra options for the curl output. - <code>cookieJar</code>: A \[CookieJar object\](https://github.com/salesforce/tough-cookie/blob/master/README.md\#cookiejar) to use. Pass in the string <code>'create'</code> to create a new one (returned as <code>response.cookieJar</code>). The response will have a utility function <code>async getCookieValue(name)</code> to quickly retrieve a cookie value from the jar. |

<b>Returns:</b>

Promise&lt;[PentfResponse](./pentf.pentfresponse.md)<!-- -->&gt;

## Example


```javascript
const response = await fetch(config, 'https://example.org/json-api', {
    method: 'POST',
    headers: {
        'Content-Type': 'application/json',
    },
    body: JSON.stringify({
        key: 'value',
    }),
});
assert.strictEqual(response.status, 200);
const data = await response.json();

```

